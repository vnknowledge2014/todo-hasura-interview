{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAA4B;AAC5B,gBAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,sDAA+C;AAC/C,+CAAiC;AACjC,2CAA6B;AAC7B,qCAAoE;AAEpE,MAAM,KAAK,GAAG,CAAO,GAAgB,EAAiB,EAAE;IACpD,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;IAExB,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,kBAAkB,EAAE,CAAC,CAAC;IACrC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC3B,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC;IAC7B,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC;IAChC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;IACvB,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC3B,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;IAC1B,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,4BAA4B,EAAE,CAAC,CAAC;IAC/C,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC;IACjC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC;IAE5B,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;IAE1B,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;IAC1C,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACpC,OAAO,CAAC,GAAG,CAAC,0BAA0B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;IAE1D,IAAA,2BAAkB,EAAC,GAAG,CAAC,CAAC;IACxB,IAAA,6BAAoB,EAAC,GAAG,CAAC,CAAC;AAC9B,CAAC,CAAA,CAAA;AAED,KAAK,CAAC,IAAA,iBAAO,GAAE,CAAC,CAAC","sourcesContent":["import dotenv from \"dotenv\";\ndotenv.config();\n\nimport express, { Application } from \"express\";\nimport * as helmet from \"helmet\";\nimport * as http from \"http\";\nimport { todoItemAddedEvent, todoItemUpdatedEvent } from \"./events\";\n\nconst mount = async (app: Application): Promise<void> => {\n    app.use(express.json());\n\n    app.use(helmet.dnsPrefetchControl());\n    app.use(helmet.expectCt());\n    app.use(helmet.frameguard());\n    app.use(helmet.hidePoweredBy());\n    app.use(helmet.hsts());\n    app.use(helmet.ieNoOpen());\n    app.use(helmet.noSniff());\n    app.use(helmet.permittedCrossDomainPolicies());\n    app.use(helmet.referrerPolicy());\n    app.use(helmet.xssFilter());\n\n    app.set(\"trust proxy\", 1);\n\n    const httpServer = http.createServer(app);\n    httpServer.listen(process.env.PORT);\n    console.log(`[app] : http://webhook:${process.env.PORT}`);\n\n    todoItemAddedEvent(app);\n    todoItemUpdatedEvent(app);\n}\n\nmount(express());\n\n"]}