{"version":3,"file":"eventData.js","sourceRoot":"","sources":["../../src/utils/eventData.ts"],"names":[],"mappings":";;;AAEO,MAAM,gBAAgB,GAAG,CAAC,UAAqB,EAAkI,EAAE;IACtL,MAAM,cAAc,GAAG,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;IAC3C,MAAM,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;IACzC,MAAM,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC;IAE3C,MAAM,sBAAsB,GAAG,kBAAK,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAU,CAAC;IAExE,MAAM,sBAAsB,GAAG,kBAAK,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAU,CAAC;IAExE,OAAO;QACH,cAAc;QACd,UAAU;QACV,UAAU;QACV,sBAAsB;QACtB,sBAAsB;KACzB,CAAA;AACL,CAAC,CAAA;AAhBY,QAAA,gBAAgB,oBAgB5B;AAEM,MAAM,kBAAkB,GAAG,CAAC,sBAA4B,EAAE,cAAsB,EAAE,UAAkB,EAAE,UAAkB,EAAuB,EAAE;IACpJ,OAAO;QACH,OAAO,EAAE,sBAAsB,CAAC,OAAO;QACvC,SAAS,EAAE,cAAc;QACzB,KAAK,EAAE,UAAU;QACjB,KAAK,EAAE,UAAU;QACjB,UAAU,EAAE,sBAAsB,CAAC,UAAU;KACzB,CAAC;AAC7B,CAAC,CAAA;AARY,QAAA,kBAAkB,sBAQ9B","sourcesContent":["import { Todo, EventData, AuditLogDescription } from \"../types\";\n\nexport const extractEventData = (event_data: EventData): { operation_name: string; table_name: string; event_name: string; update_event_data_prev: Todo; update_event_data_next: Todo } => {\n    const operation_name = event_data.event.op;\n    const table_name = event_data.table.name;\n    const event_name = event_data.trigger.name;\n\n    const update_event_data_prev = { ...event_data.event.data.old } as Todo;\n\n    const update_event_data_next = { ...event_data.event.data.new } as Todo;\n\n    return {\n        operation_name,\n        table_name,\n        event_name,\n        update_event_data_prev,\n        update_event_data_next\n    }\n}\n\nexport const auditLogDataFormat = (update_event_data_next: Todo, operation_name: string, event_name: string, table_name: string): AuditLogDescription => {\n    return {\n        user_id: update_event_data_next.user_id,\n        operation: operation_name,\n        event: event_name,\n        table: table_name,\n        updated_at: update_event_data_next.updated_at\n    } as AuditLogDescription;\n}"]}